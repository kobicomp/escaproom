<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>מחולל חדרי בריחה מקוונים</title>
  <link rel="stylesheet" href="generator.css">
</head>
<body>
  <div class="generator">
    <!-- סרגל צד -->
    <div class="sidebar">
      <h2>מחולל חדרי בריחה</h2>
      
      <div class="sidebar-section">
        <div class="section-title">חדרים</div>
        <ul class="rooms-list" id="rooms-list">
          <li class="room-item-list active" data-room-id="room1">חדר 1: מעבדה</li>
        </ul>
        <button class="btn" id="add-room-btn" style="width: 100%; margin-top: 10px;">+ הוסף חדר</button>
      </div>
      
      <div class="sidebar-section">
        <div class="section-title">אובייקטים</div>
        <div class="object-gallery" id="object-gallery">
          <div class="object-thumbnail" data-type="safe">כספת</div>
          <div class="object-thumbnail" data-type="key">מפתח</div>
          <div class="object-thumbnail" data-type="book">ספר</div>
          <div class="object-thumbnail" data-type="computer">מחשב</div>
        </div>
      </div>
      
      <div class="sidebar-section">
        <div class="section-title">הגדרות חדר</div>
        <div class="form-group">
          <label for="room-name">שם החדר:</label>
          <input type="text" id="room-name" value="חדר 1: מעבדה">
        </div>
        <div class="form-group">
          <label for="room-background">רקע החדר:</label>
          <select id="room-background">
            <option value="lab">מעבדה</option>
            <option value="library">ספרייה</option>
            <option value="office">משרד</option>
            <option value="mansion">אחוזה</option>
          </select>
        </div>
        <div class="form-group">
          <label for="room-background-image">תמונת רקע:</label>
          <input type="file" id="room-background-image" accept="image/*">
          <button class="btn btn-secondary" id="remove-room-bg-image" style="margin-top: 5px;">הסר תמונת רקע</button>
        </div>
      </div>
      
      <div class="sidebar-section">
        <div class="section-title">תכונות האובייקט</div>
        <div id="object-properties" style="display: none;">
          <div class="form-group">
            <label for="object-name">שם:</label>
            <input type="text" id="object-name">
          </div>
          <div class="form-group">
            <label for="object-puzzle">חידה מקושרת:</label>
            <select id="object-puzzle">
              <option value="">ללא</option>
              <option value="code-puzzle">חידת קוד</option>
              <option value="text-puzzle">חידת טקסט</option>
            </select>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="object-locked">
              נעול (דורש פריט)
            </label>
          </div>
          <div class="form-group">
            <label for="object-required-item">פריט נדרש:</label>
            <select id="object-required-item">
              <option value="">ללא</option>
              <option value="key">מפתח</option>
            </select>
          </div>
          <div class="form-group">
            <label for="object-next-room">מעבר לחדר:</label>
            <select id="object-next-room">
              <option value="">ללא</option>
              <option value="room2">חדר 2</option>
            </select>
          </div>
          <div class="form-group">
            <label for="object-image">תמונת האובייקט:</label>
            <input type="file" id="object-image" accept="image/*">
            <button class="btn btn-secondary" id="remove-object-image" style="margin-top: 5px;">הסר תמונה</button>
          </div>
          <button class="btn btn-danger" id="delete-object-btn">מחק אובייקט</button>
        </div>
        <div id="no-object-selected" style="text-align: center; padding: 10px;">
          בחר אובייקט כדי לערוך את תכונותיו
        </div>
      </div>
    </div>
    
    <!-- תוכן ראשי -->
    <div class="main-content">
      <div class="toolbar">
        <div>
          <button class="btn" id="new-project-btn">פרויקט חדש</button>
          <button class="btn" id="save-project-btn">שמור</button>
          <button class="btn" id="load-project-btn">טען</button>
        </div>
        <div>
          <button class="btn btn-success" id="export-btn">ייצא משחק</button>
        </div>
      </div>
      
      <div class="tabs">
        <button class="tab active" data-tab="rooms">חדרים</button>
        <button class="tab" data-tab="puzzles">חידות</button>
        <button class="tab" data-tab="map">מפה</button>
        <button class="tab" data-tab="export">ייצוא</button>
      </div>
      
      <div class="preview-area">
        <!-- לשונית חדרים -->
        <div class="tab-content active" id="rooms-tab">
          <div class="room-preview" id="room-preview" style="background-color: #243447;">
            <!-- חדר דוגמה עם פריטים -->
            <div class="room-item" id="item1" style="width: 60px; height: 60px; left: 200px; top: 300px;" data-type="safe">
              כספת
            </div>
            
            <div class="room-item" id="item2" style="width: 50px; height: 50px; left: 400px; top: 150px;" data-type="computer">
              מחשב
            </div>
          </div>
        </div>
        
        <!-- לשונית חידות -->
        <div class="tab-content" id="puzzles-tab" style="display: none;">
          <div class="puzzle-editor">
            <h3>חידות</h3>
            <p>כאן תוכל ליצור ולערוך חידות לחדרי הבריחה שלך.</p>
            
            <div class="puzzle-list">
              <div class="puzzle-list-item" data-puzzle-id="code-puzzle">חידת קוד - כספת</div>
              <div class="puzzle-list-item" data-puzzle-id="text-puzzle">חידת טקסט - מחשב</div>
            </div>
            
            <button class="btn" id="add-puzzle-btn">+ הוסף חידה חדשה</button>
            
            <div class="puzzle-form" id="code-puzzle-form" style="display: none; margin-top: 20px;">
              <h4>עריכת חידת קוד</h4>
              <div class="form-group">
                <label for="code-puzzle-name">שם החידה:</label>
                <input type="text" id="code-puzzle-name" value="חידת קוד - כספת">
              </div>
              <div class="form-group">
                <label for="code-puzzle-description">תיאור החידה:</label>
                <textarea id="code-puzzle-description" rows="3">מצא את הקוד לפתיחת הכספת!</textarea>
              </div>
              <div class="form-group">
                <label for="code-puzzle-answer">הקוד הנכון:</label>
                <input type="text" id="code-puzzle-answer" value="1234">
              </div>
              <div class="form-group">
                <label for="code-puzzle-hint">רמז:</label>
                <input type="text" id="code-puzzle-hint" value="חפש רמזים בחדר...">
              </div>
              <div class="form-group">
                <label for="code-puzzle-success">הודעת הצלחה:</label>
                <input type="text" id="code-puzzle-success" value="הכספת נפתחה!">
              </div>
              <button class="btn" id="save-code-puzzle">שמור</button>
            </div>
            
            <div class="puzzle-form" id="text-puzzle-form" style="display: none; margin-top: 20px;">
              <h4>עריכת חידת טקסט</h4>
              <div class="form-group">
                <label for="text-puzzle-name">שם החידה:</label>
                <input type="text" id="text-puzzle-name" value="חידת טקסט - מחשב">
              </div>
              <div class="form-group">
                <label for="text-puzzle-question">שאלה:</label>
                <textarea id="text-puzzle-question" rows="3">מהו שמו של המדען הידוע שגילה את חוק הכבידה?</textarea>
              </div>
              <div class="form-group">
                <label for="text-puzzle-answer">תשובה נכונה:</label>
                <input type="text" id="text-puzzle-answer" value="אייזק ניוטון">
              </div>
              <div class="form-group">
                <label for="text-puzzle-hint">רמז:</label>
                <input type="text" id="text-puzzle-hint" value="הוא ראה תפוח נופל...">
              </div>
              <div class="form-group">
                <label for="text-puzzle-success">הודעת הצלחה:</label>
                <input type="text" id="text-puzzle-success" value="נכון! המחשב נפתח!">
              </div>
              <button class="btn" id="save-text-puzzle">שמור</button>
            </div>
          </div>
        </div>
        
        <!-- לשונית מפה -->
        <div class="tab-content" id="map-tab" style="display: none;">
          <div class="map-editor">
            <h3>מפת חדרים</h3>
            <p>גרור חדרים למפה וצור קשרים ביניהם.</p>
            
            <div class="map-container" id="map-container">
              <div class="map-room" id="map-room1" style="top: 50px; left: 50px;" data-room-id="room1">
                חדר 1: מעבדה
              </div>
              <div class="map-room" id="map-room2" style="top: 200px; left: 250px;" data-room-id="room2">
                חדר 2: ספרייה
              </div>
              <!-- קשרים בין חדרים יתווספו דינאמית ע"י ה-JavaScript -->
            </div>
            
            <div style="margin-top: 20px;">
              <button class="btn" id="add-map-room">+ הוסף חדר</button>
              <button class="btn" id="create-connection">צור קשר</button>
              <button class="btn btn-danger" id="remove-connection">מחק קשר</button>
            </div>
          </div>
        </div>
        
        <!-- לשונית ייצוא -->
        <div class="tab-content" id="export-tab" style="display: none;">
          <div class="export-section">
            <h3>ייצוא משחק</h3>
            <p>ייצא את חדר הבריחה שלך כקובץ HTML שניתן לשתף ולהפעיל בכל דפדפן.</p>
            
            <div class="form-group">
              <label for="game-title">כותרת המשחק:</label>
              <input type="text" id="game-title" value="חדר הבריחה שלי - המעבדה המסתורית">
            </div>
            
            <div class="form-group">
              <label for="game-description">תיאור המשחק:</label>
              <textarea id="game-description" rows="4">ברוכים הבאים לחדר הבריחה המקוון! מצאת את עצמך נעול במעבדה מסתורית. עליך לפתור את החידות ולמצוא את הדרך החוצה תוך 60 דקות.</textarea>
            </div>
            
            <div class="form-group">
              <label for="game-time-limit">הגבלת זמן (בדקות):</label>
              <input type="number" id="game-time-limit" value="60">
            </div>
            
            <button class="btn btn-success" id="generate-game">ייצא משחק</button>
            
            <div style="margin-top: 20px; display: none;" id="export-result">
              <h4>המשחק מוכן להורדה!</h4>
              <p>לחץ על הכפתור למטה כדי להוריד את המשחק:</p>
              <button class="btn btn-success" id="download-game">הורד משחק</button>
            </div>
          </div>
        </div>
        
        <!-- מודאלים -->
        <div class="modal" id="add-room-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>הוסף חדר חדש</h3>
            <div class="form-group">
              <label for="new-room-name">שם החדר:</label>
              <input type="text" id="new-room-name" value="חדר חדש">
            </div>
            <div class="form-group">
              <label for="new-room-background">רקע:</label>
              <select id="new-room-background">
                <option value="lab">מעבדה</option>
                <option value="library">ספרייה</option>
                <option value="office">משרד</option>
                <option value="mansion">אחוזה</option>
              </select>
            </div>
            <button class="btn btn-success" id="create-room-btn">צור חדר</button>
          </div>
        </div>
        
        <div class="modal" id="add-puzzle-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>הוסף חידה חדשה</h3>
            <div class="form-group">
              <label for="new-puzzle-type">סוג החידה:</label>
              <select id="new-puzzle-type">
                <option value="code">חידת קוד</option>
                <option value="text">חידת טקסט</option>
                <option value="search">חידת חיפוש</option>
                <option value="sequence">חידת רצף</option>
              </select>
            </div>
            <div class="form-group">
              <label for="new-puzzle-name">שם החידה:</label>
              <input type="text" id="new-puzzle-name" value="חידה חדשה">
            </div>
            <button class="btn btn-success" id="create-puzzle-btn">צור חידה</button>
          </div>
        </div>
        
        <div class="modal" id="export-game-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>ייצוא המשחק</h3>
            <p>המשחק שלך מוכן להורדה! ייצרנו עבורך קובץ HTML שניתן לפתוח ישירות בכל דפדפן מודרני.</p>
            <div style="background-color: #f4f4f4; padding: 10px; border-radius: 5px; margin: 15px 0;">
              <p style="margin: 0;"><strong>הוראות:</strong><br/>
              1. הורד את הקובץ<br/>
              2. פתח את הקובץ בכל דפדפן<br/>
              3. שתף את הקובץ עם חברים כדי שיוכלו לשחק</p>
            </div>
            <button class="btn btn-success" id="download-game-btn">הורד משחק</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="generator.js"></script>
</body>
</html>