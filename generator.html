<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>מחולל חדרי בריחה מקוונים - גרסה משודרגת</title>
  <link rel="stylesheet" href="generator.css">
</head>
<body>
  <div class="generator">
    <!-- סרגל צד -->
    <div class="sidebar">
      <h2>מחולל חדרי בריחה</h2>
      
      <div class="sidebar-section">
        <div class="section-title">חדרים</div>
        <ul class="rooms-list" id="rooms-list">
          <li class="room-item-list active" data-room-id="room1">חדר 1: מעבדה</li>
        </ul>
        <button class="btn" id="add-room-btn" style="width: 100%; margin-top: 10px;">+ הוסף חדר</button>
      </div>
      
      <div class="sidebar-section">
        <div class="section-title">אובייקטים</div>
        <div class="object-gallery" id="object-gallery">
          <div class="object-thumbnail" data-type="safe">כספת</div>
          <div class="object-thumbnail" data-type="key">מפתח</div>
          <div class="object-thumbnail" data-type="book">ספר</div>
          <div class="object-thumbnail" data-type="computer">מחשב</div>
          <div class="object-thumbnail" data-type="info">הערת מידע</div>
          <div class="object-thumbnail" data-type="door">דלת/יציאה</div>
        </div>
      </div>
      
      <div class="sidebar-section">
        <div class="section-title">הגדרות חדר</div>
        <div class="form-group">
          <label for="room-name">שם החדר:</label>
          <input type="text" id="room-name" value="חדר 1: מעבדה">
        </div>
        <div class="form-group">
          <label for="room-background">רקע החדר:</label>
          <select id="room-background">
            <option value="lab">מעבדה</option>
            <option value="library">ספרייה</option>
            <option value="office">משרד</option>
            <option value="mansion">אחוזה</option>
          </select>
        </div>
        <div class="form-group">
          <label for="room-background-image">תמונת רקע:</label>
          <input type="file" id="room-background-image" accept="image/*">
          <button class="btn btn-secondary" id="remove-room-bg-image" style="margin-top: 5px;">הסר תמונת רקע</button>
        </div>
      </div>
      
      <div class="sidebar-section">
        <div class="section-title">תכונות האובייקט</div>
        <div id="object-properties" style="display: none;">
          <!-- תכונות בסיסיות -->
          <div class="form-group">
            <label for="object-name">שם:</label>
            <input type="text" id="object-name">
          </div>
          
          <!-- תכונות לכל סוגי האובייקטים -->
          <div id="common-properties">
            <div class="form-group">
              <label for="object-width">רוחב:</label>
              <input type="number" id="object-width" min="20" max="400">
            </div>
            <div class="form-group">
              <label for="object-height">גובה:</label>
              <input type="number" id="object-height" min="20" max="400">
            </div>
            <div class="form-group">
              <label for="object-image">תמונת האובייקט:</label>
              <input type="file" id="object-image" accept="image/*">
              <button class="btn btn-secondary" id="remove-object-image" style="margin-top: 5px;">הסר תמונה</button>
            </div>
          </div>
          
          <!-- תכונות ספציפיות לכספת -->
          <div id="safe-properties" style="display: none;">
            <div class="form-group">
              <label for="object-puzzle">חידה מקושרת:</label>
              <select id="object-puzzle">
                <option value="">ללא</option>
              </select>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="object-locked">
                נעול (דורש פריט)
              </label>
            </div>
            <div class="form-group">
              <label for="object-required-item">פריט נדרש:</label>
              <select id="object-required-item">
                <option value="">ללא</option>
                <option value="key">מפתח</option>
              </select>
            </div>
            <div class="form-group">
              <label for="object-code">קוד פתיחה (אם אין חידה מקושרת):</label>
              <input type="text" id="object-code">
            </div>
            <div class="form-group">
              <label for="object-content">תוכן הכספת:</label>
              <textarea id="object-content" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="object-opened-image">תמונת כספת פתוחה:</label>
              <input type="file" id="object-opened-image" accept="image/*">
            </div>
          </div>
          
          <!-- תכונות ספציפיות למפתח -->
          <div id="key-properties" style="display: none;">
            <div class="form-group">
              <label for="key-type">סוג מפתח:</label>
              <select id="key-type">
                <option value="regular">רגיל</option>
                <option value="gold">זהב</option>
                <option value="silver">כסף</option>
                <option value="red">אדום</option>
              </select>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="one-time-use">
                שימוש חד-פעמי
              </label>
            </div>
            <div class="form-group">
              <label for="key-hint">רמז למלאי:</label>
              <input type="text" id="key-hint">
            </div>
          </div>
          
          <!-- תכונות ספציפיות לספר -->
          <div id="book-properties" style="display: none;">
            <div class="form-group">
              <label for="book-content">תוכן הספר:</label>
              <textarea id="book-content" rows="5"></textarea>
            </div>
            <div class="form-group">
              <label for="book-style">סגנון ספר:</label>
              <select id="book-style">
                <option value="regular">רגיל</option>
                <option value="ancient">עתיק</option>
                <option value="diary">יומן</option>
                <option value="letter">מכתב</option>
              </select>
            </div>
            <div class="form-group">
              <label for="book-hidden-hint">רמז מוסתר:</label>
              <input type="text" id="book-hidden-hint">
            </div>
            <div class="form-group">
              <label for="book-requires-item">פריט נדרש לחשיפת רמז:</label>
              <select id="book-requires-item">
                <option value="">ללא</option>
                <option value="key">מפתח</option>
              </select>
            </div>
            <div class="form-group">
              <label for="book-pages">מספר עמודים:</label>
              <input type="number" id="book-pages" min="1" max="10" value="1">
              <button class="btn btn-secondary" id="edit-pages-btn" style="margin-top: 5px;">ערוך עמודים</button>
            </div>
          </div>
          
          <!-- תכונות ספציפיות למחשב -->
          <div id="computer-properties" style="display: none;">
            <div class="form-group">
              <label for="computer-puzzle">חידה מקושרת:</label>
              <select id="computer-puzzle">
                <option value="">ללא</option>
              </select>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="computer-locked">
                נעול (דורש סיסמה)
              </label>
            </div>
            <div class="form-group">
              <label for="computer-password">סיסמה:</label>
              <input type="text" id="computer-password">
            </div>
            <div class="form-group">
              <label for="computer-off-text">טקסט במצב כבוי:</label>
              <textarea id="computer-off-text" rows="2"></textarea>
            </div>
            <div class="form-group">
              <label for="computer-on-text">טקסט במצב פעיל:</label>
              <textarea id="computer-on-text" rows="2"></textarea>
            </div>
            <div class="form-group">
              <label for="computer-programs">תוכניות במחשב:</label>
              <button class="btn btn-secondary" id="edit-programs-btn">ערוך תוכניות</button>
            </div>
          </div>
          
          <!-- תכונות ספציפיות להערת מידע -->
          <div id="info-properties" style="display: none;">
            <div class="form-group">
              <label for="info-text">טקסט מידע:</label>
              <textarea id="info-text" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="display-style">סגנון תצוגה:</label>
              <select id="display-style">
                <option value="popup">הודעה צפה</option>
                <option value="dialog">חלונית מידע</option>
                <option value="embedded">טקסט מוטמע</option>
              </select>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="auto-show">
                הצגה אוטומטית בכניסה לחדר
              </label>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="show-once">
                הצגה חד-פעמית
              </label>
            </div>
            <div class="form-group">
              <label for="font-size">גודל גופן:</label>
              <select id="font-size">
                <option value="small">קטן</option>
                <option value="medium">בינוני</option>
                <option value="large">גדול</option>
              </select>
            </div>
            <div class="form-group">
              <label for="text-color">צבע טקסט:</label>
              <input type="color" id="text-color" value="#000000">
            </div>
          </div>
          
          <!-- תכונות ספציפיות לדלת/יציאה -->
          <div id="door-properties" style="display: none;">
            <div class="form-group">
              <label for="next-room">חדר יעד:</label>
              <select id="next-room">
                <option value="">בחר חדר</option>
              </select>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="door-locked">
                נעולה
              </label>
            </div>
            <div class="form-group">
              <label for="door-required-item">פריט נדרש:</label>
              <select id="door-required-item">
                <option value="">ללא</option>
                <option value="key">מפתח</option>
              </select>
            </div>
            <div class="form-group">
              <label for="door-required-puzzle">חידה נדרשת:</label>
              <select id="door-required-puzzle">
                <option value="">ללא</option>
              </select>
            </div>
            <div class="form-group">
              <label for="door-message">הודעת מעבר:</label>
              <input type="text" id="door-message">
            </div>
          </div>
          
          <button class="btn btn-danger" id="delete-object-btn">מחק אובייקט</button>
        </div>
        <div id="no-object-selected" style="text-align: center; padding: 10px;">
          בחר אובייקט כדי לערוך את תכונותיו
        </div>
      </div>
    </div>
    
    <!-- תוכן ראשי -->
    <div class="main-content">
      <div class="toolbar">
        <div>
          <button class="btn" id="new-project-btn">פרויקט חדש</button>
          <button class="btn" id="save-project-btn">שמור</button>
          <button class="btn" id="load-project-btn">טען</button>
        </div>
        <div>
          <button class="btn btn-success" id="export-btn">ייצא משחק</button>
        </div>
      </div>
      
      <div class="tabs">
        <button class="tab active" data-tab="rooms">חדרים</button>
        <button class="tab" data-tab="puzzles">חידות</button>
        <button class="tab" data-tab="map">מפה</button>
        <button class="tab" data-tab="export">ייצוא</button>
      </div>
      
      <div class="preview-area">
        <!-- לשונית חדרים -->
        <div class="tab-content active" id="rooms-tab">
          <div class="room-preview" id="room-preview" style="background-color: #243447;">
            <!-- אובייקטים יתווספו דינמית -->
          </div>
        </div>
        
        <!-- לשונית חידות -->
        <div class="tab-content" id="puzzles-tab" style="display: none;">
          <div class="puzzle-editor">
            <h3>חידות</h3>
            <p>כאן תוכל ליצור ולערוך חידות לחדרי הבריחה שלך.</p>
            
            <div class="puzzle-list" id="puzzle-list">
              <!-- רשימת חידות תתווסף דינמית -->
            </div>
            
            <button class="btn" id="add-puzzle-btn">+ הוסף חידה חדשה</button>
            
            <!-- טפסי עריכת חידות -->
            <div class="puzzle-forms-container" id="puzzle-forms-container">
              <!-- טפסי עריכה לחידות שונות יתווספו דינמית -->
            </div>
          </div>
        </div>
        
        <!-- לשונית מפה -->
        <div class="tab-content" id="map-tab" style="display: none;">
          <div class="map-editor">
            <h3>מפת חדרים</h3>
            <p>גרור חדרים למפה וצור קשרים ביניהם.</p>
            
            <div class="map-container" id="map-container">
              <!-- חדרים וקשרים יתווספו דינמית -->
            </div>
            
            <div style="margin-top: 20px;">
              <button class="btn" id="add-map-room">+ הוסף חדר</button>
              <button class="btn" id="create-connection">צור קשר</button>
              <button class="btn btn-danger" id="remove-connection">מחק קשר</button>
            </div>
          </div>
        </div>
        
        <!-- לשונית ייצוא -->
        <div class="tab-content" id="export-tab" style="display: none;">
          <div class="export-section">
            <h3>ייצוא משחק</h3>
            <p>ייצא את חדר הבריחה שלך כקובץ HTML שניתן לשתף ולהפעיל בכל דפדפן.</p>
            
            <div class="form-group">
              <label for="game-title">כותרת המשחק:</label>
              <input type="text" id="game-title" value="חדר הבריחה שלי - המעבדה המסתורית">
            </div>
            
            <div class="form-group">
              <label for="game-description">תיאור המשחק:</label>
              <textarea id="game-description" rows="4">ברוכים הבאים לחדר הבריחה המקוון! מצאת את עצמך נעול במעבדה מסתורית. עליך לפתור את החידות ולמצוא את הדרך החוצה תוך 60 דקות.</textarea>
            </div>
            
            <div class="form-group">
              <label for="game-time-limit">הגבלת זמן (בדקות):</label>
              <input type="number" id="game-time-limit" value="60">
            </div>
            
            <button class="btn btn-success" id="generate-game">ייצא משחק</button>
          </div>
        </div>
        
        <!-- מודאלים -->
        <div class="modal" id="add-room-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>הוסף חדר חדש</h3>
            <div class="form-group">
              <label for="new-room-name">שם החדר:</label>
              <input type="text" id="new-room-name" value="חדר חדש">
            </div>
            <div class="form-group">
              <label for="new-room-background">רקע:</label>
              <select id="new-room-background">
                <option value="lab">מעבדה</option>
                <option value="library">ספרייה</option>
                <option value="office">משרד</option>
                <option value="mansion">אחוזה</option>
              </select>
            </div>
            <button class="btn btn-success" id="create-room-btn">צור חדר</button>
          </div>
        </div>
        
        <div class="modal" id="add-puzzle-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>הוסף חידה חדשה</h3>
            <div class="form-group">
              <label for="new-puzzle-type">סוג החידה:</label>
              <select id="new-puzzle-type">
                <option value="code">חידת קוד</option>
                <option value="text">חידת טקסט</option>
                <option value="sequence">חידת רצף</option>
                <option value="matching">חידת התאמה</option>
                <option value="arrange">חידת סידור</option>
                <option value="search">חידת חיפוש</option>
                <option value="assembly">חידת הרכבה</option>
              </select>
            </div>
            <div class="form-group">
              <label for="new-puzzle-name">שם החידה:</label>
              <input type="text" id="new-puzzle-name" value="חידה חדשה">
            </div>
            <button class="btn btn-success" id="create-puzzle-btn">צור חידה</button>
          </div>
        </div>
        
        <div class="modal" id="edit-pages-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>עריכת עמודי ספר</h3>
            <div id="book-pages-editor">
              <!-- תוכן עמודים יתווסף דינמית -->
            </div>
            <button class="btn btn-success" id="save-pages-btn">שמור עמודים</button>
          </div>
        </div>
        
        <div class="modal" id="edit-programs-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>עריכת תוכניות מחשב</h3>
            <div id="computer-programs-editor">
              <div class="programs-list" id="programs-list">
                <!-- רשימת תוכניות תתווסף דינמית -->
              </div>
              <button class="btn" id="add-program-btn">+ הוסף תוכנית</button>
              <div class="program-form" id="program-form" style="margin-top: 15px; display: none;">
                <div class="form-group">
                  <label for="program-name">שם התוכנית:</label>
                  <input type="text" id="program-name">
                </div>
                <div class="form-group">
                  <label for="program-content">תוכן:</label>
                  <textarea id="program-content" rows="4"></textarea>
                </div>
                <div class="form-group">
                  <label for="program-action">פעולה:</label>
                  <select id="program-action">
                    <option value="none">ללא</option>
                    <option value="puzzle">הפעלת חידה</option>
                    <option value="unlock">שחרור נעילה</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="program-target">יעד הפעולה:</label>
                  <select id="program-target">
                    <option value="">בחר</option>
                  </select>
                </div>
                <button class="btn btn-success" id="save-program-btn">שמור תוכנית</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="modal" id="export-game-modal">
          <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>ייצוא המשחק</h3>
            <p>המשחק שלך מוכן להורדה! ייצרנו עבורך קובץ HTML שניתן לפתוח ישירות בכל דפדפן מודרני.</p>
            <div style="background-color: #f4f4f4; padding: 10px; border-radius: 5px; margin: 15px 0;">
              <p style="margin: 0;"><strong>הוראות:</strong><br/>
              1. הורד את הקובץ<br/>
              2. פתח את הקובץ בכל דפדפן<br/>
              3. שתף את הקובץ עם חברים כדי שיוכלו לשחק</p>
            </div>
            <button class="btn btn-success" id="download-game-btn">הורד משחק</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="generator.js"></script>
</body>
</html>
